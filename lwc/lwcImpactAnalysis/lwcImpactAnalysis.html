<template>

    <!-- #region View Form-->
    <template if:false={editForm}>
    <lightning-accordion
        allow-multiple-sections-open
        active-section-name={activeSections}>
    <lightning-card id="viewImpactAnalysisCard">
        <lightning-button-stateful 
            id="btnEdit"
            variant="brand"
            label-when-off="Edit"
            label-when-on="Cancel"
            onclick={handleEdit}
            selected={editForm}>
        </lightning-button-stateful>
    
        <div class="slds-var-m-around_medium">
            <lightning-record-view-form 
                object-api-name="Case"
                record-id={recordId}>
                
                <br>
                <lightning-accordion-section if:false={editForm} name="viewRequest" label="Request">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-2">
                        <label class="slds-form-element__label" for="form-element-01">Requestor Name</label>
                        <lightning-output-field
                            field-name={requestorNameField}
                            variant="label-hidden">
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={requestorsTeamField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={reasonForRequestField}>
                        </lightning-output-field>
                    </div>
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field
                            field-name={businessRequirementsField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={technicalRequirementsField}>
                        </lightning-output-field>
                    </div>
                </div>
                </lightning-accordion-section>
    
                <br>
                <lightning-accordion-section if:false={editForm} name="viewImpact" label="Impact">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field
                            field-name={areOtherStakeholdersImpactedField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={impactedStakeholdersField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={areImpactedStakeholdersAwareField}>
                        </lightning-output-field>  
                    </div>
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field
                            field-name={anyStakeholderConcersField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={listStakeholderConcernsField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={allStakeholderConcernsResolvedField}>
                        </lightning-output-field>
                    </div>
                </div>
                </lightning-accordion-section>
    
                <br>
                <lightning-accordion-section if:false={editForm} name="viewServiceTeam" label="Service Team">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field
                            field-name={devLevelOfEffortField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={devBacklogWhenCanWorkStartField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={standardChangeField}>
                        </lightning-output-field>
                    </div>
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field
                            field-name={serviceTeamRecommendationField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={serviceTeamImpactSignOffField}>
                        </lightning-output-field>  
                    </div>
                </div>
                </lightning-accordion-section>
                
            </lightning-record-view-form>
        </div>
    </lightning-card>
    </lightning-accordion>
    </template>
    <!-- #endregion -->
    
    <!-- #region Edit Form-->
    <template if:true={editForm}>
    <lightning-accordion
        allow-multiple-sections-open
        active-section-name={activeSections}>
    <lightning-card id="editImpactAnalysisCard">
        <lightning-button-stateful 
                id="btnCancel"
                variant="brand"
                label-when-off="Edit"
                label-when-on="Cancel"
                onclick={handleEdit}
                selected={editForm}>
        </lightning-button-stateful>
        <br>
        <br>
        <lightning-button  
            id="btnUpdate1"
                variant="brand"
                class="slds-m-top_small"  
                type="submit"  
                name="updateForm"
                onclick={handleUpdate}  
                label="Update">  
        </lightning-button> 
        <div class="slds-var-m-around_medium">
        <lightning-record-edit-form 
            object-api-name="Case"
            record-id={recordId}
            onsuccess={handleUpdate}>
            
            <lightning-accordion-section if:true={editForm} name="editRequest" label="Request">
            <div class="slds-grid">
                <div class="slds-col slds-size_1-of-2">
                    <label class="slds-form-element__label" for="form-element-01">Requestor Name</label>
                    <lightning-input-field
                        field-name={requestorNameField}
                        variant="label-hidden">
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={requestorsTeamField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={reasonForRequestField}>
                    </lightning-input-field>
                </div>
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input-field
                        field-name={businessRequirementsField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={technicalRequirementsField}>
                    </lightning-input-field>
                </div>
            </div>
            </lightning-accordion-section>
    
            <br>
            <lightning-accordion-section if:true={editForm} name="editImpact" label="Impact">
            <div class="slds-grid">
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input-field
                        field-name={areOtherStakeholdersImpactedField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={impactedStakeholdersField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={areImpactedStakeholdersAwareField}>
                    </lightning-input-field>  
                </div>
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input-field
                        field-name={anyStakeholderConcersField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={listStakeholderConcernsField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={allStakeholderConcernsResolvedField}>
                    </lightning-input-field>
                </div>
            </div>
            </lightning-accordion-section>
    
            <br>
            <lightning-accordion-section if:true={editForm} name="editServiceTeam" label="Service Team">
            <div class="slds-grid">
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input-field
                        field-name={devLevelOfEffortField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={devBacklogWhenCanWorkStartField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={standardChangeField}>
                    </lightning-input-field>
                </div>
                <div class="slds-col slds-size_1-of-2">
                    <lightning-input-field
                        field-name={serviceTeamRecommendationField}>
                    </lightning-input-field>
                    <lightning-input-field
                        field-name={serviceTeamImpactSignOffField}>
                    </lightning-input-field>  
                </div>
            </div>
            </lightning-accordion-section>
            
            <lightning-button  
                id="btnUpdate2"
                variant="brand"
                class="slds-m-top_small"  
                type="submit"  
                name="updateForm1"
                onclick={handleUpdate}  
                label="Update">  
            </lightning-button>         
        </lightning-record-edit-form>
        </div>
    </lightning-card>
    </lightning-accordion>
    </template>
    <!-- #endregion -->
    
    
    </template>